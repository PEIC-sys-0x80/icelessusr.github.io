# cd指令

#資訊科技  #終端指令  #linux/unix指令 #linux

`cd`（全名為 **change directory** ）是類 Unix 系統中用來**切換目前工作目錄**的終端指令。在終端機中執行命令時，會依據當前所在的目錄來尋找或執行檔案，因此切換至正確的目錄是基本且常用的操作。

這個指令在 Linux、macOS、FreeBSD 等 Unix-like 作業系統中皆廣泛使用，同樣的概念也出現在 Windows 的命令提示字元中。

---

## 功能描述

`cd` 指令的核心功能是**變更目前工作目錄**，這對於檔案操作、程式編譯、腳本執行等都是非常重要的基礎步驟。其支援多種方式來指定目錄，包括：

* **絕對路徑與相對路徑**
* **使用特殊符號快速導航**
* **環境變數（如 `$HOME`、`$OLDPWD`）**
* **搭配 Shell 功能進行自動補全與變數替換**

此外，`cd` 可以搭配 Shell 腳本、別名（alias）、函數（function）等方式建立更快速且自動化的工作流程。

---

## 基本語法

```shell
cd [目標路徑]
```

* 若不指定 `[目標路徑]`，預設切換到當前使用者的家目錄（Home Directory）。
* `[目標路徑]` 可為：

  * **絕對路徑**：自根目錄 `/` 開始，如 `/etc/nginx`
  * **相對路徑**：相對於當前目錄，如 `../projects`
  * **特殊符號**：

    * `~`：家目錄
    * `..`：上一層目錄
    * `.`：當前目錄
    * `-`：上一個目錄

---

## 常用範例

### 切換到指定絕對路徑

```shell
cd /var/log
```

切換到 `/var/log` 目錄。

### 使用相對路徑切換

```shell
cd ../../Downloads
```

從目前目錄向上兩層，然後進入 `Downloads`。

### 回到家目錄

```shell
cd
# 或
cd ~
```

### 切換到上一個工作目錄

```shell
cd -
```

這個指令會回到你剛剛所在的目錄，並顯示該路徑。

---

## 進階用法

### 使用環境變數

```shell
cd $HOME
```

等同於 `cd ~`，使用環境變數 `$HOME` 切換到家目錄。

```shell
cd $OLDPWD
```

切換到上一個目錄（與 `cd -` 效果相同，但常用於腳本中）。

### 使用 Tab 鍵補全路徑

在輸入 `cd` 時按下 **Tab 鍵** 可自動補完路徑，提高輸入效率與正確性（須在支援的 Shell 中，如 bash/zsh）。

### 結合 `pushd` / `popd`

如果使用的是 Bash/Zsh，也可以使用 `pushd` 和 `popd` 來進行目錄堆疊式切換：

```shell
pushd /usr/local
# 做事...
popd  # 回到原本目錄
```

### 設定目錄快捷方式（alias）

```shell
alias cdp='cd ~/projects'
```

讓 `cdp` 成為快速進入 `~/projects` 的捷徑。

### 使用函數建立動態跳轉

```shell
jump() { cd ~/projects/$1; }
jump myapp
```

此函數可快速跳到指定子目錄。

---

## 注意事項

* `cd` 是由 Shell（如 bash、zsh）內建的指令，並非獨立的可執行檔，因此無法在 `$PATH` 中找到。
* 如果目標目錄不存在或拼錯，會出現錯誤訊息：

  ```
  bash: cd: nonexistent_dir: No such file or directory
  ```
* 切換的目錄只會影響目前的終端工作階段，不會永久改變系統或其他視窗的狀態。
* 使用者權限不足的情況下無法進入某些目錄，會顯示「Permission denied」。

---

## 搭配使用建議

* 搭配 `pwd`：顯示目前所在的目錄

  ```shell
  pwd
  ```

* 搭配 `ls`：查看目錄內容

  ```shell
  ls
  ```

* 搭配 `find`、`grep`、`tree`：進行更複雜的目錄瀏覽與檔案搜尋

* 搭配 Shell Prompt 的自訂，例如在提示字元顯示當前目錄名稱，提高可讀性與導航效率。

---

## 常見錯誤與排除

| 情況                              | 解釋與解決方法                               |
| ------------------------------- | ------------------------------------- |
| `cd: No such file or directory` | 確認目錄名稱是否拼寫錯誤，或該目錄是否存在。                |
| `cd: Permission denied`         | 當前使用者無權讀取該目錄，需使用 `sudo` 或切換至具有權限的使用者。 |
| `cd` 無反應但目錄沒變                   | 有可能在腳本中或 alias 被覆蓋，檢查是否有自定義的 `cd` 函數。 |

---